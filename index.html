<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<title>Examine Your Thoughts</title>
		<link rel="icon" href="favicon.ico" type="image/x-icon"/>
		<meta name="description" content="Answer helpful questions about what's upsetting you."/>

		<meta property="og:title" content="ExamineYourThoughts.com">
		<meta property="og:description" content="Answer helpful questions about what's upsetting you.">
		<meta property="og:image" content="http://examineyourthoughts.com/Icon128x128.png">
		<meta property="og:url" content="http://examineyourthoughts.com">

		<style>
			/* Not sure if this is a good idea or not. Was trying to make it look nicer on Mobile */
			.jumbotron .container, .container {
				max-width: 98%;
			}

			.show-one-button:hover {
				background-color: #a9d1ff;
				border-color: blue;
			}
			.pink-bg {
				background-color: #ffe0e5;
				background: rgb(255,230,234);
				background: linear-gradient(180deg, rgba(255,230,234,1) 0%, rgba(255,224,229,1) 80%, rgba(244,214,219,1) 100%);
				-webkit-box-shadow: 1px 5px 5px 0px rgba(184,184,184,0.65);
				-moz-box-shadow: 1px 5px 5px 0px rgba(184,184,184,0.65);
				box-shadow: 1px 5px 5px 0px rgba(184,184,184,0.65);
			}
			.grey-bg {
				background-color: rgb(240,240,240);
				background: rgb(240,240,240);
				background: linear-gradient(180deg, rgba(240,240,240,1) 0%, rgba(220,220,220,1) 80%, rgba(200,200,200,1) 100%);
				-webkit-box-shadow: 1px 5px 5px 0px rgba(184,184,184,0.65);
				-moz-box-shadow: 1px 5px 5px 0px rgba(184,184,184,0.65);
				box-shadow: 1px 5px 5px 0px rgba(184,184,184,0.65);
			}
			.custom-jumbotron {
				margin-bottom: 15px;
				padding-top: 32px;
				padding-bottom: 32px;
			}
		</style>

		<script>
			// Code and text Copyright to Kevin Verre (author of code and text).
			// Inspired by the ideas of Byron Katie, author of "Loving What Is". Her words are attributed to her with an asterisk.

			console.log("Script begins");

			var short_list_of_questions =[
				{
					"id": "welcome",
					"prompt": "<h5><em>ExamineYourThoughts.com</em></h5>Welcome! I will ask you some helpful questions.",
					"hint": "Are you upset, angry, unmotivated, or worried about something?<br/>These questions are designed to help you worry less about something in your life, and to motivate you.<br/>Please submit anything to continue. <em>(Click Button or Press Enter to submit)</em><br/><br/><i>This is the shorter version.<br>It only asks the most important questions. You can try the longer question set if you like.</i>",
					"response": "",
					"response_handler": "handle_initial_response",
					"result_tag": ""
				},
				{
					"id":"thought",
					"prompt":"What is the thought or belief that you want to examine?",
					"hint":"",
					"response":"",
					"response_handler":"",
					"result_tag":"Thought"
				},
				{
					"id":"true",
					"prompt":"Is it true?<sup><em>*</em></sup>",
					"hint":"Be honest! If you think it is true, say Yes!",
					"result_tag":"True?"
				},
				{
					"id":"absolutely",
					"prompt":"Can you be absolutely sure it is true?<sup><em>*</em></sup>",
					"hint":"Be honest! Only say No if it is an Honest No.",
					"result_tag":"Absolutely?"
				},
				{
					"id":"react",
					"prompt":"How do you react when you believe this thought?<sup><em>*</em></sup>",
					"hint":"How do you live your life?",
					"result_tag":"Reaction?"
				},
				{
					"id":"without",
					"prompt":"Who would you be without this thought?<sup><em>*</em></sup>",
					"hint":"Without this voice?",
					"result_tag":"Without?"
				},
				{
					"id":"turnaround",
					"prompt":"How can you turn it around?<sup><em>*</em></sup>",
					"result_tag":"Turnaround?"
				},
				{
					"id":"advice",
					"prompt":"What is some advice you would give yourself [related to this issue]?",
					"hint":"What advice you would give someone else?",
					"result_tag":"Advice?"
				},
				{
					"id":"more",
					"prompt":"What are some other thoughts you can examine? (Or what's causing the original thought?)",
					"result_tag":"More"
				},
				{
					"id": "end",
					"prompt": "The End",
					"hint": "I hope this thinking exercise helped you feel a little better.<br/><em>Refresh this page or hit the Restart button below to try it again.</em>",
					"response":"",
					"response_handler": "",
					"result_tag": ""
				}
			];

			var long_list_of_questions =
			[
			// Array of steps. Each step contains a question for the user
			// Each step also contains how to handle the user's response
				{
					"id": "welcome",
					"prompt": "<h5><em>ExamineYourThoughts.com</em></h5>Welcome! I will ask you some helpful questions.",
					"hint": "Are you upset, angry, unmotivated, or worried about something?<br/>These questions are designed to help you worry less about something in your life, and to motivate you.<br/>Please submit anything to continue. <em>(Click Button or Press Enter to submit)</em><br/><br/><i>This is the full version.<br>It asks all questions. You can try the shorter question set if you like.</i>",
					"response": "",
					"response_handler": "handle_initial_response",
					"result_tag": ""
				},
				{
					"id": "noun",
					"prompt": "What is the noun (person, thing, or event) that is causing you stress?",
					"hint": "Examples: 'My boss', 'My roommate', 'My girlfriend', 'My project', 'My chore', 'My future', 'My career'",
					"response": "",
					"response_handler": "save_noun_response",
					"result_tag": "The Thing"
				},
				{
					"id": "premeasure",
					"prompt": "How upsetting is '#{NOUN}' to you?",
					"hint": "On a scale of 1-10, (10 is extremely upsetting, 1 is only a tiny bit upsetting)",
					"response": "",
					"response_handler": "",
					"result_tag": "How upset"
				},
				{
					"id": "feel",
					"prompt": "How do you FEEL when you think about '#{NOUN}'? How does it make you feel? ",
					"hint": "Examples: hopeless, overwhelmed, depressed, tired, bored, distracted, intimidated, frustrated, angry, scared, unmotivated, uninterested, uninspired, upset, challenged, stressed, anxious, reluctant, lazy, hesitant, lethargic, avoidant, averse",
					"response": "",
					"response_handler": "save_feeling_response",
					"result_tag": "The Feeling"
				},
				{
					"id": "thought",
					"prompt": "Write a thought about '#{NOUN}' and how you feel about it or why you feel that way. ('#{FEELING}')",
					"hint": "What are you thinking about it?<br/>Example: '#{NOUN}' is making me feel '#{FEELING}' because ________ .",
					"response": "",
					"response_handler": "save_thought_response",
					"result_tag": "Stressful thought"
				},
				{
					"id": "true",
					"prompt": "'#{THOUGHT}' ...Is it true?<sup><em>*</em></sup>",
					"hint": "Be honest! It's OK to say <em>Yes</em> if you feel it is true to you right now. It doesn't matter if you say <em>Yes</em> or <em>No</em>.",
					"response": "",
					"response_handler": "",
					"result_tag": "True"
				},
				{
					"id": "absolutely",
					"prompt": "'#{THOUGHT}' ...Can you absolutely be sure it is true?<sup><em>*</em></sup>",
					"hint": "Can you prove that it's true? Is it <em>even possible</em> to prove that it's true? Why or why not? Be honest if it's a Yes.",
					"response": "",
					"response_handler": "",
					"result_tag": "Absolutely true"
				},
				{
					"id": "react",
					"prompt": "How do you react when you believe '#{THOUGHT}'?<sup><em>*</em></sup>",
					"hint": "What do you do? What actions do you take? How do you feel?<br/>Examples: I get scared, I procrastinate, I wish..., I avoid dealing with it or thinking about it",
					"response": "",
					"response_handler": "",
					"result_tag": "Reaction"
				},
				{
					"id": "without",
					"prompt": "Who would you be if you didn't believe the thought '#{THOUGHT}'?<sup><em>*</em></sup>",
					"hint": "Without the thought, what would you do? What would you be doing? What action would you take? How would you feel? How would you be different? How would you treat the situation differently? (This is my favorite step.)",
					"response": "",
					"response_handler": "",
					"result_tag": "Without"
				},
				{
					"id": "turnaround",
					"prompt": "What are some of the turnarounds?<sup><em>*</em></sup> (for '#{THOUGHT}')",
					"hint": "A turnaround is where you rephrase the thought toward yourself or towards the opposite in a way that you believe is more true",
					"response": "",
					"response_handler": "",
					"result_tag": "Turnarounds"
				},
				{
					"id": "kind_of_person",
					"prompt": "With regard to '#{NOUN}', what kind of person do you want to be?",
					"hint": "How do you want other people to think of you? How do you want to be remembered? What would your role model do? What are you rooting for yourself to do?",
					"response": "",
					"response_handler": "",
					"result_tag": "Kind of Person"
				},
				{
					"id": "would_you_say_to_friend",
					"prompt": "Imagine a friend of yours was in a similar situation with regard to '${NOUN}'. Would you say '${THOUGHT}' to them?",
					"hint": "Why or why not?",
					"response": "",
					"response_handler": "",
					"result_tag": "Friend"
				},
				{
					"id": "what_to_say_to_friend",
					"prompt": "What would you say to a friend of yours in a similar situation?",
					"hint": "Why? Can you say that to yourself",
					"response": "",
					"response_handler": "",
					"result_tag": "Msg to Friend"
				},
				{
					"id": "fullStory",
					"prompt": "Suppose that '#{THOUGHT}' is true.... what is the rest of the story? What's the full story? What else is true about #{NOUN}?",
					"hint": "Is there another side to this story? Is there another half of the story? Is there a part you're not focusing on? What are you leaving out, forgetting, or missing?",
					"response": "",
					"response_handler": "",
					"result_tag": "Full Story"
				},
				{
					"id": "helpful",
					"prompt": "Is thinking '#{THOUGHT}' helping you? Or is it keeping you stuck? Or is it hurting you?",
					"hint": "How is it helping you? Or how is it keeping you stuck? Or how is it hurting you?",
					"response": "",
					"response_handler": "",
					"result_tag": "Helpful"
				},
				{
					"id": "cost",
					"prompt": "Is believing the thought '#{THOUGHT}' costing you?",
					"hint": "What has this belief cost you in the past? In the present? In the future?",
					"response": "",
					"response_handler": "",
					"result_tag": "Cost"
				},
				{
					"id": "youngerself",
					"prompt": "Would you say '#{THOUGHT}' to your younger self?",
					"hint": "Why or why not? What about to your older self? To your present self?",
					"response": "",
					"response_handler": "",
					"result_tag": "Younger Self"
				},
				{
					"id": "Hurry",
					"prompt": "How could you improve this situation IN A HURRY?",
					"hint": "Imagine you only had one hour. Or one day. NOT one week. NOT one year. Maybe you would be better off getting stuff done QUICKLY rather than perfectly.",
					"response": "",
					"response_handler": "",
					"result_tag": "Hurry"
				},
				{
					"id": "positive_character",
					"prompt": "Does this thought say anything positive about your character? '#{THOUGHT}'",
					"hint": "What do you like about yourself that is reflected in this thought/belief?",
					"response": "",
					"response_handler": "",
					"result_tag": "Positive",
				},
				{
					"id": "knowledge",
					"prompt": "How could you become more knowledgeable about the subject? '#{THOUGHT}'",
					"hint": "Are there mentors, teachers, coaches, friends, guides that you could learn from? What knowledge are you missing? You don't even know what you all you don't know.",
					"response": "",
					"response_handler": "",
					"result_tag": "Knowledge",
				},
				{
					"id": "Strategy",
					"prompt": "How could you switch up your strategy with regard to the subject? '#{THOUGHT}'",
					"hint": "What strategies could you try that you haven't tried yet? Don't be afraid to brainstorm and take bold action.",
					"response": "",
					"response_handler": "",
					"result_tag": "Strategy",
				},
				{
					"id": "empathize",
					"prompt": "Imagine someone else had this thought. How could you empathize with them? '#{THOUGHT}'",
					"hint": "The more completely can empathize with them, the better. Tell them that you realize how miserable their situation is.",
					"response": "",
					"response_handler": "",
					"result_tag": "Empathize",
				},
				{
					"id": "fan",
					"prompt": "Imagine that someone is a huge fan of yours and is rooting for you to succeed. If they knew you were thinking '#{THOUGHT}', what would they want you TO DO? What is their point of view of your situation?",
					"hint": "You could imagine a friend, a family member, a coach, a mentor, or a role model. It doesn't have to be a real person, it could be an entirely made-up person.",
					"response": "",
					"response_handler": "",
					"result_tag": "Fan"
				},
				{
					"id": "other_to_do",
					"prompt": "If SOMEONE ELSE was thinking '#{THOUGHT}', what would you want them TO DO?",
					"hint": "Imagine someone else was in this situation. What would you hope they do? Or root for them to do?",
					"response": "",
					"response_handler": "",
					"result_tag": "Other To Do"
				},
				{
					"id": "otheradvice",
					"prompt": "If SOMEONE ELSE was thinking '#{THOUGHT}', what advice would you give them?",
					"hint": "Imagine someone else was in this situation and going to you for help. What would you say to them?",
					"response": "",
					"response_handler": "",
					"result_tag": "Other Advice"
				},
				{
					"id": "you_can",
					"prompt": "What is something that YOU CAN DO that would help you feel better about '#{NOUN}'?",
					"hint": "Focus in on what you can control or do, rather than things that rely on other people doing something.",
					"response": "",
					"response_handler": "",
					"result_tag": "You can"
				},
				{
					"id": "selfadvice",
					"prompt": "What advice would you give yourself regarding '#{NOUN}' and the thought '#{THOUGHT}'?",
					"hint": "Imagine talking to yourself and giving yourself advice.",
					"response": "",
					"response_handler": "",
					"result_tag": "Advice to Self"
				},
				{
					"id": "respond_to_other_negativity",
					"prompt": "Imagine that the thought was being said by a bully. Imagine that someone else believed that your Negative Thought was true for you. They heard your negative thought and they agreed with it. Now they are saying it to you. How would you respond to their negativity (or their criticism)?",
					"hint": "Imagine another person believes your negative thought about you and your situation, not necessarily about their own situation. If your thought contains a first-person perspective, you will need to re-write the negative thought from someone else's perspective about you. For example, if your negative thought was 'It will be difficult and I will be miserable' then the other person saying it towards you would be: 'It will be difficult and you will be miserable.' How could you respond? Your thought: '#{THOUGHT}'",
					"response": "",
					"response_handler": "",
					"result_tag": "Respond to Negativity"
				},
				{
					"id": "worst",
					"prompt": "Could you handle the WORST imaginable future regarding '#{NOUN}'?",
					"hint": "Suppose everything goes horribly. The worst possible outcomes happen at every possible juncture. Could you handle it?",
					"response": "",
					"response_handler": "",
					"result_tag": "Worst"
				},
				{
					"id": "detailed_plan",
					"prompt": "Write out an extremely detailed plan for dealing with '#{NOUN}'",
					"hint": "Define lots of little objectives. Break every step down into lots of smaller steps. Be as detailed as possible. Focus on specific actions that need to be taken.",
					"response": "",
					"response_handler": "",
					"result_tag": "Plan"
				},
				{
					"id": "leave_me_alone",
					"prompt": "Talk back to the negative thoughts. Tell the negative thoughts and negative part of your brain to be quiet! And to leave you alone!",
					"hint": "Tell it to shut up and leave you alone. Tell it to leave you in peace so you can focus on improving the situation. Tell it that it's making things worse by distracting you and that you're sick of it.",
					"response": "",
					"response_handler": "",
					"result_tag": "Leave me alone"
				},
				{
					"id": "thanks",
					"prompt": "Thank the negative thought for its concern and caution.",
					"hint": "Tell the negative part of your brain that you're thankful for it. You understand it's trying to help and protect you. That you understand it's coming from a place of caring and it's trying to help motivate you. That you appreciate its concern.",
					"response": "",
					"response_handler": "",
					"result_tag": "Thanks"
				},
				{
					"id": "drop",
					"prompt": "Can you see a good reason to stop believing the thought '#{THOUGHT}'?<sup><em>*</em></sup>",
					"hint": "What is that reason?",
					"response": "",
					"response_handler": "",
					"result_tag": "Drop thought"
				},
				{
					"id": "gratitude",
					"prompt": "What are you grateful for with regard to '#{NOUN}'?",
					"hint": "",
					"response": "",
					"response_handler": "",
					"result_tag": "Gratitude"
				},
				{
					"id": "black-or-white",
					"prompt": "Is it an example of black-or-white when thinking in shades of grey would be more appropriate? '#{THOUGHT}'",
					"hint": "Try re-writing your negative thought to be more accurate by describing things on a scale of 0 to 100",
					"response": "",
					"response_handler": "",
					"result_tag": "Black or white"
				},
				{
					"id": "assumptions",
					"prompt": "What assumptions are present? Predicting the future? Trying to read someone's mind? Assuming the worst? '#{THOUGHT}'",
					"hint": "",
					"response": "",
					"response_handler": "",
					"result_tag": "Assumptions"
				},
				{
					"id": "labeling",
					"prompt": "Is it an example of labeling or mislabeling? '#{THOUGHT}'",
					"hint": "How do you define those labels?",
					"response": "",
					"response_handler": "",
					"result_tag": "Labeling"
				},
				{
					"id": "overgeneralization",
					"prompt": "What overgeneralizations are present? '#{THOUGHT}'",
					"hint": "For example, generalizing about the future based on the past. Or generalizing about a large group based on a small subset.",
					"response": "",
					"response_handler": "",
					"result_tag": "Overgeneralization"
				},
				{
					"id": "out_of_proportion",
					"prompt": "Is it an example of blowing things out of proportion? '#{THOUGHT}'",
					"hint": "For example, does it make something seem more important or bigger than it is actually is?",
					"response": "",
					"response_handler": "",
					"result_tag": "Out of Proportion"
				},
				{
					"id": "minimizing",
					"prompt": "Is it an example of downplaying, minimizing, or ignoring anything? Does it disqualify, disregard, or discount anything? '#{THOUGHT}'",
					"hint": "For example, does it make anything seem unimportant, such as your accomplishments?",
					"response": "",
					"response_handler": "",
					"result_tag": "Minimizing"
				},
				{
					"id": "filtering",
					"prompt": "Is it an example of filtering? Are you filtering out anything? Something positive? Something negative? '#{THOUGHT}'",
					"hint": "For example, you're so focused on all of the things that they do wrong that you filter out the things they do correct.",
					"response": "",
					"response_handler": "",
					"result_tag": "Filtering"
				},
				{
					"id": "distortions",
					"prompt": "What cognitive distortions are present in your beliefs about '#{NOUN}'?",
					"hint": "How might you be exagerrating? Overestimating? Underestimating? Too focused? Predicting? Labeling? Mind-reading? Assuming? Personalizing? Shoulding? Magnifying? Minifying? Over-generalizing? Filtering? Ignoring the positive? Ignoring nuance?",
					"response": "",
					"response_handler": "",
					"result_tag": "Distortions"
				},
				{
					"id": "treat",
					"prompt": "How do you treat '#{NOUN}' when you think '#{THOUGHT}'?<sup><em>*</em></sup> How do you behave?",
					"hint": "And how do you treat yourself?",
					"response": "",
					"response_handler": "",
					"result_tag": "Behavior with"
				},
					{
					"id": "treat_without",
					"prompt": "How would you treat '#{NOUN}' WITHOUT the thought '#{THOUGHT}'?<sup><em>*</em></sup> How would you behave?",
					"hint": "How would you treat yourself WITHOUT this thought?",
					"response": "",
					"response_handler": "",
					"result_tag": "Behavior without"
				},
				{
					"id": "envision",
					"prompt": "What do you see, envision, or imagine when you believe '#{THOUGHT}'?<sup><em>*</em></sup>",
					"hint": "",
					"response": "",
					"response_handler": "",
					"result_tag": "Envision"
				},
				{
					"id": "envision_without",
					"prompt": "What do you see or imagine it would be like if you could let go of the thought '#{THOUGHT}'?",
					"hint": "",
					"response": "",
					"response_handler": "",
					"result_tag": "Envision without"
				},
				{
					"id":"why",
					"prompt": "Why do you think '#{NOUN}' is the way it currently is?",
					"hint": "Can you give an explanation?",
					"response": "",
					"response_handler": "",
					"result_tag": "Why"
				},
				{
					"id": "keep",
					"prompt": "Can you see a STRESS-FREE reason to keep believing the thought '#{THOUGHT}'?<sup><em>*</em></sup>",
					"hint": "What is that reason?",
					"response": "",
					"response_handler": "",
					"result_tag": "Keep thought"
				},
				{
					"id": "business",
					"prompt": "Whose business is it?<sup><em>*</em></sup>",
					"hint": "Yours? Someone else's? The universe's?",
					"response": "",
					"response_handler": "",
					"result_tag": "Business"
				},
				{
					"id": "bother",
					"prompt": "Why does '#{NOUN}' bother or upset you so much?",
					"hint": "Is there a self-doubt doubt or limiting belief related to it? Is there an emotional wound?",
					"response": "",
					"response_handler": "",
					"result_tag": "Bothers me"
				},
				{
					"id":"bothers_you_more",
					"prompt": "What is bothering you more right now, '#{NOUN}' or your thinking?",
					"hint": "Your thoughts, beliefs, feelings, emotions regarding it",
					"response": "",
					"result_tag": "Problem"
				},
				{
					"id": "turnaround_opposite",
					"prompt": "How can you turn the thought around to the OPPOSITE?<sup><em>*</em></sup>",
					"hint": "Instead of ABC is/does XYZ, how is the opposite true? ABC is/does NOT XYZ. What is the counter-evidence? ('#{THOUGHT}')",
					"response": "",
					"response_handler":"",
					"result_tag":"Turnaround (opposite)"
				},
				{
					"id": "turnaround_self",
					"prompt": "How can you turn the thought around to YOURSELF?<sup><em>*</em></sup>",
					"hint": "Instead of ABC does XYZ, how do YOU do XYZ? ('#{THOUGHT}')",
					"response": "",
					"response_handler":"",
					"result_tag":"Turnaround (self)"
				},
				{
					"id": "turnaround_other",
					"prompt": "How can you turn the thought around the OTHER WAY?<sup><em>*</em></sup>",
					"hint": "Instead of ABC does XYZ to me, how do YOU do XYZ to ABC? ('#{THOUGHT}')",
					"response": "",
					"response_handler":"",
					"result_tag":"Turnaround (other)"
				},
				{
					"id": "turnaround_thinking",
					"prompt": "How can you turn the thought around to YOUR THINKING?<sup><em>*</em></sup>",
					"hint": "Instead of ABC does XYZ, how is your thinking XYZ? ('#{THOUGHT}')",
					"response": "",
					"response_handler":"",
					"result_tag":"Turnaround (thinking)"
				},
				{
					"id": "rewrite",
					"prompt": "Rewrite the thought '#{THOUGHT}' in a way that is more true or more helpful.",
					"hint": "Try to be as true, accurate, helpful, and kind as possible. Try to be 100% truthful.",
					"response": "",
					"response_handler": "",
					"result_tag": "Rewrite"
				},
				/*
				{
					"id": "false",
					"prompt": "What are THREE REASONS why '#{THOUGHT}' is false?",
					"hint": "",
					"response": "",
					"response_handler": "",
					"result_tag": "Arguments against the thought"
				},
				{
					"id": "myself",
					"prompt": "What are THREE WAYS in which I am somehow causing the feeling '#{FEELING}' to occur? Or how do your thoughts cause you to feel that way?",
					"hint": "",
					"response": "",
					"response_handler": "",
					"result_tag": "Turn around towards self"
				},
				*/
				{
					"id": "postmeasure",
					"prompt": "How upsetting is '#{NOUN}' to you now?",
					"hint": "On a scale of 1-10, (10 is extremely upsetting, 1 is only a tiny bit upsetting)",
					"response": "",
					"response_handler": "",
					"result_tag":"How upset after"
				},
				{
					"id": "now",
					"prompt": "How do you feel now? Describe it.",
					"hint": "",
					"response": "",
					"response_handler": "",
					"result_tag": "Feeling after"
				},
				{
					"id": "next",
					"prompt": "What's another thought you could examine next? What belief lead you to believe this one?",
					"hint": "What other thoughts should you examine next?",
					"response": "",
					"response_handler": "",
					"result_tag": "Next"
				},
				{
					"id": "worthwhile",
					"prompt": "Was using ExamineYourThoughts.com a good use of your time?",
					"hint": "Or was it a waste of time? On a scale of 0-10, where 0 is waste of time and 10 is an amazing use of your time, how worthwhile was it? Explain why",
					"response": "",
					"response_handler": "",
					"result_tag": "Worthwhile"
				},
				{
					"id": "end",
					"prompt": "The End",
					"hint": "I hope this thinking exercise helped you feel a little better.<br/><em>Refresh this page or hit the Restart button below to try it again.</em>",
					"response":"",
					"response_handler": "",
					"result_tag": ""
				}
			];

			//jQuery doesn't come with this function so I found it online, made it bettr
			$.urlParam = function(name){
				var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
				if (results == null) return "";
				return results[1] || "";
			}

			let current_question_set = $.urlParam('question_set')

			var try_shorter_text = "Try the shorter set of questions"
			var try_longer_text = "Try the longer set of questions"

			const SHORT_LIST = "short-list";
			const LONG_LIST = "long-list";
			// This must both be changed.
			var steps_str = LONG_LIST; // This determines which one it starts with

			if (current_question_set == "short")
				{ steps_str = SHORT_LIST; }
			else {
				steps_str = LONG_LIST
			}

			var steps;
			var question_button_set_text;

			if (steps_str == SHORT_LIST) { // DO NOT change this one
				steps = short_list_of_questions;
				question_button_set_text = try_longer_text;
			} else {
				steps = long_list_of_questions;
				question_button_set_text = try_shorter_text;
			}

			// The most important user response's are saved here
			var response = {
				"noun": "",
				"feeling": "",
				"thought": ""
			};

			function swap_question_set_button_text(text){
				var button = $('#swap-question-set-btn');
				button.attr('value', text);
			}

			function swap_question_set(){
				// is this considered safe? I could do it another way by manipulating the URL in the browser but that's more complicated
				var URL_to_go_to = $(location).attr('href');
				URL_to_go_to = URL_to_go_to.split("?")[0];
				if (steps_str == LONG_LIST){
					URL_to_go_to += "?question_set=short";
				} else if (steps_str == SHORT_LIST) {
					URL_to_go_to += "?question_set=long";
				}
				window.location = URL_to_go_to;
			}
			function swap_question_set_old(){
				// if we are short, become long. If we are long, become short.
				if (steps_str == SHORT_LIST) {
					steps_str = LONG_LIST;
					steps = long_list_of_questions;
				} else {
					steps_str = SHORT_LIST;
					steps = short_list_of_questions;
				}
				clear_results();
				display_first_question();
			}

			function prep_string(string_in){
				if (string_in == null) return "";
				// Only replaces the first occurance in the string

				// if the string has #{THOUGHT} replace it with the user's thought
				string_out = string_in.replace("#{THOUGHT}", "<em>" + response.thought + "</em>");
				// if the string has #{FEELING} replace it with the user's feeling
				string_out = string_out.replace("#{FEELING}", "<em>" + response.feeling + "</em>");

				// if the string has #{NOUN} replace it with the user's noun
				string_out = string_out.replace("#{NOUN}", "<em>" + response.noun + "</em>");

				return string_out;
			}

			function save_noun_response(){
				user_response = $('#response_textarea').val().trim();
				if (user_response == ''){
					user_response = '#NOUN';
				}
				//remove punctuation
				user_response = user_response.replace(/[\.!]$/,'')
				response.noun = user_response;
				steps[current_step_number].response = user_response;
			}
			function save_feeling_response(){
				user_response = $('#response_textarea').val().trim();
				if (user_response == ''){
					user_response = '#FEELING';
				}
				user_response = user_response.replace(/[\.!]$/,'')

				response.feeling = user_response;
				steps[current_step_number].response = user_response;
			}
			function save_thought_response(){
				user_response = $('#response_textarea').val().trim();
				if (user_response == ''){
					user_response = '#THOUGHT';
				}
				user_response = user_response.replace(/[\.!]$/,'')

				response.thought = user_response;
				steps[current_step_number].response = user_response;
			}

			function handle_initial_response(){
				$('#response_textarea').show();
			}


			next_question_flag = false;

			function display_step(step, current_step_number){
				// display an empty input
				const next_question_initial_response_value = step.response || '';
				$('#response_textarea').val(next_question_initial_response_value).focus();
				// display the prompt
				prepped_prompt = prep_string(step.prompt);
				$('#prompt_text').html(prepped_prompt);
				// display the hint
				prepped_hint = prep_string(step.hint);
				$('#hint_text').html(prepped_hint);
				//update question number
				number_str = ""+(current_step_number+1)+"/"+total_number_steps;
				$('#question_number_holder').html(number_str);

				// Print results so far to screen
				var results_area = $('#results_area');
				results_area.html('');

				for (var i = 0; i <= current_step_number; i++){
					temp_step = steps[i];
					if (temp_step.result_tag != "") {
						result_string = "<tr><td style=\"vertical-align:baseline;\" class=\"col-md-2 col-sm-5 text-left\"><b>" + temp_step.result_tag + ": </b></td>"
						result_string += "<td style=\"vertical-align:baseline;\" class=\"col-md-10 col-sm-7 text-left\">" + (temp_step.response || "")+ "</td></tr>";
						results_area.append(result_string)
					}
				}

				if (current_step_number == 0) {
					$('#responses_headline').hide();
				} else {
					$('#responses_headline').show();
				}
			}

			// debug function
			function print_step_results(step, step_number){

				result_string = "";
				// print the step number
				result_string += "" + step_number + ")";
				// print the step prompt
				prepped_prompt = prep_string(step.prompt);
				result_string += prepped_prompt;
				// print the step's hint
				// print the step's response

				console.log(result_string);
				console.log(step.response);
			}

			// main, run the program

			// Go through all of the steps
			var current_step_number = 0;
			var total_number_steps = steps.length;

			// INITIALIZE function
			function onload_initialize(){
				swap_question_set_button_text(question_button_set_text);
				display_first_question();
			}

			function display_first_question(){

				// attach Enter key handler and hide, it starts out hidden
				$('#response_textarea').hide();

				total_number_steps = steps.length;
				current_step_number = 0;
				first_step = steps[0];
				$('#submit_button').show();
				display_step(first_step, 0);
				$('#submit_button').focus();
				$('#response_textarea').on('keypress', enter_key_handler);
				$('#response_textarea').on('keyup', textarea_keyup);

				// Disabled to improve user experience
				//$('body').on('keyup', keyup_backarrow_key_handler);

			}

			function release_next_question_flag(){
				next_question_flag = false;
			}

			function print_all_results(){ // debug function
				var x = 0;
				while (x < total_number_steps){
					print_step_results(steps[x],x);
					x++;
				}
			}

			function print_all_questions(){ // debug function
				var x = 0;
				while (x < total_number_steps) {
					var xstep = steps[x];
					var question = xstep.prompt;
					question += " // " + xstep.hint;
					// Regex to clean up the text. Remove the HTML < > tags
					// The question mark is lazy matching rather than greedy matching
					question = question.replace(/<.*?>/g, ' ');
					console.log(question);
					x++;
				}
			}

			function show_all_questions(){
				$('#jumbotron').css('background-color','white');
				$('#show_all_button').hide();
				$('.show-one-button').show();
				$('#prompt_container').hide();
				$('#all_questions_container').show();


				var x = 0; var str = "";
				str = "";
				while (x < total_number_steps) {
					var xstep = steps[x];
					var prompt = xstep.prompt;
					var hint = xstep.hint || "";
					var answer = xstep.response;

					prompt = prompt.replace(/<.*?>/g, ' ').trim();
					hint = hint.replace(/<.*?>/g, ' ').trim();
					answer = answer.trim();
					if (answer != "") {
						answer = "> " + answer;
					}
					prompt = "" + (x+1)+ ") "+ prompt;

					str += "<b>"+prompt+"</b></br>"+hint+"<br/><i>"+answer+"</i><br/><br/>";
					x++;
				}

				$('#all_questions_row').html(str);
			}

			function show_one_question(){
				$('#jumbotron').css('background-color','#ffe0e5');
				$('#show_all_button').show();
				$('.show-one-button').hide();
				$('#prompt_container').show();
				$('#all_questions_container').hide();
				$('#response_textarea').focus();


			}

			function cleanup(){
				// hide the submit button
				$('#submit_button').hide();
				// hide the input textarea
				$('#response_textarea').hide();
			}

			function restart(){
				location.reload();
			}

			function textarea_keyup(e){
				if (e.keyCode == 13){
					release_next_question_flag();
				}
			}

			function enter_key_handler(e){
				// when enter is pressed in text area we should submit the form
				if (e.keyCode == 13){
					//make sure Shift key is not also pressed
					if (e.shiftKey){
						return;
					}

					e.preventDefault();
					e.stopPropagation();
					submit_response_handler();
					return false;
				}
			}

			// a.k.a. Next question function
			function submit_response_handler(){
				if (next_question_flag || current_step_number >= total_number_steps) {
					// do nothing. We can't go to the next question yet
					return;
				}
				next_question_flag = true;
				// Save the user's response
				cur_step = steps[current_step_number];
				user_response = $('#response_textarea').val().trim();
				cur_step.response = user_response || "";

				// execute that step's unique response handler
				if (cur_step.response_handler && cur_step.response_handler != ""){
					name_of_function = cur_step.response_handler;
					window[name_of_function]();
				}

				// Go to the next step
				current_step_number += 1;

				// Check to see if we are done
				if (current_step_number >= total_number_steps){
					return;
				}
				next_step = steps[current_step_number];
				display_step(next_step, current_step_number);

				if (current_step_number >= total_number_steps - 1) {
					// End by displaying the last question but hiding the text box and submit button
					//print_all_results(); // debug
					console.log('The end!');
					cleanup(); // hides the text box and the submit button
				}
			}

			function clear_results(){
				for (var i = 0; i < steps.length; i++){
					steps[i].response = "";
				}
			}

			function test_submit_button_click_handler(e)
			{
				console.log("test_submit_button_click_handler function entered");
				submit_response_handler();
			}

			function submit_button_click_handler(e)
			{
				console.log("submit_button_click_handler function entered");
				submit_response_handler();
				release_next_question_flag();
			}

			function previous_question(e){
				if (current_step_number <= 0){
					return; // do nothing
				}
				// store the currently entered text
				cur_step = steps[current_step_number];
				user_response = $('#response_textarea').val().trim();
				cur_step.response = user_response || "";
				// Display the previous step
				current_step_number -= 1;
				step_to_display = steps[current_step_number];
				old_response = step_to_display.response || "";
				display_step(step_to_display, current_step_number);
				// show the submit button, may have been hidden at the end
				$('#submit_button').show();
				// show the input textarea
				$('#response_textarea').show().val(old_response).select();

			}

			// Previous question if you hit the back arrow key. Submit question on forward arrow key
			// This can get annoying if you are typing and use the arrow keys to move the cursor so I'm disabbling it.
			function keyup_backarrow_key_handler(e){
				if (e.keyCode == 37){ // Back arrow key
					previous_question(e);
				} else if (e.keyCode == 39) { // forward arrow key
					submit_response_handler();
					release_next_question_flag();
				}
			}

			$(document).ready(onload_initialize);

		</script>
	</head>
	<body onload="">

		<div class="jumbotron custom-jumbotron grey-bg" id="jumbotron" style="">
			<div id="prompt_container" class="container">
				<div class="row">
					<div>
						<div id="prompt_text" class="text-left h2">Hello! The JavaScript should have executed and replaced this text. If you're reading this, it means the JavaScript failed to change the text.</div>
					</div>
				</div>
				<div class="row">
					<div id="hint_text" class="text-left h5">The Hint text will be displayed here if the JavaSript runs correctly. But the JavaScript wasn't executed correctly.</div>
				</div>

				<div class="row">
					<textarea id="response_textarea" rows="3" style="width:100%; max-width: 100%;"></textarea>
				</div>

				<div class="row">
					<input id="submit_button" type="button" value="Next/Submit response" onclick="submit_button_click_handler();" class="btn btn-primary"/>
				</div>
				<div class="row">
					<div>Step <div id="question_number_holder" style="display:inline-block;">1/14</div></div>
				</div>
				<div class="row">
					<div id="responses_headline" class="h4 bold">Responses:</div>
				</div>
				<div class="row">
					<div class="table-responsive">
						<table id="results_area" class="table table-condensed"></table>
					</div>
				</div>
				<div class="row">
					<input id="previous_button" type="button" value="Previous question" class="btn btn-default btn-xs" onclick="previous_question();" />
				</div>
			</div>
			<div id="all_questions_container" class="container" style="display: none;">
				<div id="all_questions_description" class="row">
					Here you can see all of the questions in the program. However, it is not interactive in this mode.<br/>
					<input type="button" id="show_one_button_top" value="Back to Interactive Questions" onclick="show_one_question();" class="btn-default btn-xs show-one-button" style=""/>
					<hr/>
				</div>
				<div id="all_questions_row" class="row"></div>
			</div>
		</div>
		<div class="container">
			<div class="row">
				<input type="button" value="Try the other set of questions" id="swap-question-set-btn" onclick="swap_question_set();" class="btn-default btn-sm" style="margin-bottom:4px;"/>
			</div>
			<br>
			<div class="row"><div class=""><em>Your answers are private and are not saved anywhere.</em></div></div>
			<div class="row"><div class="">Website code and text by Kevin Verre.</div></div>
			<div class="row"><div class="">
				Questions inspired by book "Loving What Is" and the "Love Your Neighbor" worksheet by Byron Katie. (<a href="https://thework.com">TheWork.com</a>)</div>
			</div>
			<div class="row">
				<a href="http://thework.com/sites/thework/downloads/worksheets/JudgeYourNeighbor_Worksheet.pdf">Link to Byron Katie's worksheet</a>
			</div>
			<div class="row"><div class="">* Some of the phrases come from Byron Katie's writing. I use an asterisk (*) to attribute a question or phrase to her. A few questions were inspired by a book "When Panic Attacks" by Dr. David Burns. Check out his new book "Feeling Great" and his website: <a href="https://feelinggood.com">FeelingGood.com</a></div></div>
			<br/>

			<div class="row">
				<input type="button" value="Restart" onclick="restart();" class="btn-danger btn-xs"/>
				<input type="button" id="show_all_button" value="See All Questions" onclick="show_all_questions();" class="btn-default btn-xs"/>
				<input type="button" id="show_one_button_bottom" value="Back to Interactive Questions" onclick="show_one_question();" class="btn-default btn-xs show-one-button" style="display: none;"/>
			</div>
		</div>
		<hr/>
		<div class="container">
			<div class="row text-left">
				<p>MORE INFO:</p>

				<p>I answer these questions whenever I'm feeling worried, nervous, frustrated, lazy, or unmotivated about something. Bookmark this page so that the next time you're stressed you can come back to it.</p>

				<p>Answer the questions HONESTLY. Don't give an answer just because you think it's the "right" answer or the answer you think you SHOULD give. Give the answer that truely reflects what you're thinking and feeling.</p>

				<p>The purpose is not necessarily to change your feelings about the issue, but to change your action. For example, if there is something you're angry about, the goal is not necessarily to make you stop being completely frustrated about it. But hopefully it will inspire you to take productive action. Same for if you have something you are procrastinating on. You might not become excited about your chore, but you'll at least stop procrastinating and start doing it.</p>

				<p>These questions should get your brain thinking in a way that it wasn't before.</p>

				<p>This tool is designed to hopefully be quick and easy to use. After using it enough, you can answer the questions very quickly. You don't even have to answer all the questions. Sometimes I only need the first half of the questions and stop after "Who would you be WITHOUT the thought/belief?". That is my favorite question.</p>

				<p>This website is NOT meant as a replacement for cognitive behavioral therapy. Please seek help if you are struggling with an issue you face.</p>

				<p>Learn more about Byron Katie by reading her books, visiting her website, or watching videos on her YouTube channel.</p>

				<p>Try answering these questions with someone you can trust. They might have insights you hadn't thought of on your own.</p>

				<p>All of the code for this site runs in your browser. There is no database. You can see the entire source code by right-clicking and selecting View Page Source.
				<br/>The commit history for the code is <a href="https://github.com/KevinVerre/helpful-questions">available on GitHub.</a>
				</p>

				<p>Currently you can only answer the questions that I created for this digital worksheet. But it would be cool if users could create their own questions and interactive worksheets. This worksheet is better than a simple web form because it can display your previous answers when asking new questions.</p>

				<p><b><a href="https://goo.gl/forms/gBhQUkZUruNdffD52" target="_blank">Click here to submit feedback or contact me</a></b></p>

				<p>Love the site and want to support it? <a href="https://paypal.me/KevinVerre" target="_blank">Click here to donate via PayPal</a><p>
			</div>
			<div class="row text-left">
				<hr/>
				<p>More by Kevin Verre:</p>
				<p><a href="http://www.kevinverre.com">KevinVerre.com</a> - About me</p>
				<p><a href="http://www.whatthehelp.org">WhatTheHelp.org</a> - My project to help people with depression</p>
				<p><a target="_blank" href="http://www.WhatIThinkSoFar.com">WhatIThinkSoFar.com</a> - The website for Kevin's book</p>
				<p><a target="_blank" href="https://github.com/KevinVerre/kevins-guide-to-git">Kevin's Guide to Git</a> - For programmers trying to learn Git</p>
			</div>
		</div>

		<br/><br/>
	</body>
</html>




